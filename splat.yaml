name: Bomberman Hero (US)
basename: bmhero
options:
  compiler: IDO
  symbol_addrs_path: tools/symbol_addrs.txt
  target_path: baserom.z64
  basename: bmhero
  base_path: .
  ld_script_path: bmhero.ld
  platform: n64
segments:
  - name: header
    type: header
    start: 0x00
    vram: 0
    subsegments:
    - [0x0000, header, header]
  - name: boot
    type: code
    start: 0x0040
    vram: 0xA4000040
    subsegments:
    - [0x0040, asm, boot]
    - [0x0B70, bin, bootcode_font]
  - name: text
    type: code
    bss_size: 0x85E30
    start: 0x1000
    vram: 0x80000400
    subsegments:
    - [0x1000, hasm, entry] # bootloader
    - [0x1050, asm]
    - [0x38D0, asm]
    - [0xDD20, asm]
    - [0xEE20, asm]
    - [0xEFE0, asm]
    - [0xF280, asm]
    - [0x10AB0, asm]
    - [0x12AF0, asm]
    - [0x15700, asm]
    - [0x15A80, asm]
    - [0x17930, asm]
    - [0x1FAB0, asm]
    - [0x21E10, asm]
    - [0x25810, asm]
    - [0x26CE0, asm]
    - [0x2BF00, asm]
    - [0x30FF0, asm]
    - [0x31660, asm]
    - [0x316A0, asm]
    
    # libultra
    - [0x31A20, c, libultra/os/initialize]
    - [0x31CB0, c, libultra/os/createthread]
    - [0x31E00, c, libultra/os/startthread]
    - [0x31F50, asm, libultra/io/pimgr]
    - [0x320E0, c, libultra/os/setthreadpri]
    - [0x321C0, hasm, libultra/os/writebackdcache]
    - [0x32240, hasm, libultra/os/invalicache]
    - [0x322C0, hasm, libultra/os/invalidcache]
    - [0x32370, asm, libultra/io/pidma]
    - [0x32480, c, libultra/os/recvmesg]
    - [0x325C0, asm] # TODO: Identify
    - [0x325F0, asm, libultra/io/visetyscale]
    - [0x32650, asm, libultra/io/viblack]
    - [0x326C0, asm, libultra/io/vimgr]
    - [0x32A20, asm, libultra/io/visetmode]
    - [0x32A90, c, libultra/os/seteventmesg]
    - [0x32B00, asm, libultra/io/visetevent]
    - [0x32B70, hasm, libultra/os/setintmask]
    - [0x32C10, c, libultra/os/sendmesg]
    - [0x32D60, asm, libultra/io/sptaskyielded]
    - [0x32DE0, asm, libultra/io/vigetcurrframebuf]
    - [0x32E20, asm] # TODO: Identify
    - [0x32E60, asm, libultra/io/viswapbuf]
    - [0x32EB0, hasm, libultra/os/writebackdcacheall]
    - [0x32EE0, asm, libultra/io/sptask]
    - [0x331D0, asm, libultra/io/dpsetnextbuf]
    - [0x33280, asm, libultra/io/sptaskyield]
    - [0x332A0, asm, libultra/al/heapinit]
    - [0x332E0, asm, libultra/audio/csplayer]
    - [0x34510, asm, libultra/audio/bnkf]
    - [0x34760, asm, libultra/audio/cseq]
    - [0x35220, asm, libultra/audio/seqpsetbank]
    - [0x35260, asm, libultra/audio/seqpsetseq]
    - [0x352A0, asm, libultra/audio/seqpsetvol]
    - [0x352E0, asm, libultra/audio/seqpplay]
    - [0x35310, asm, libultra/audio/seqpgetstate]
    - [0x35320, asm, libultra/audio/seqpstop]
    - [0x35350, asm, libultra/audio/seqpdelete]
    - [0x35380, asm, libultra/audio/seqpsettempo]
    - [0x353F0, asm, libultra/audio/cspgettempo]
    - [0x35430, asm, libultra/audio/seqpgetprogram]
    - [0x354C0, asm, libultra/audio/seqpgetchlvol]
    - [0x354E0, asm, libultra/audio/seqpgetpan]
    - [0x35500, asm, libultra/audio/seqpgetfxmix]
    - [0x35520, asm] # TODO: Identify
    - [0x35570, asm, libultra/gu/sinf]
    - [0x35730, asm, libultra/audio/sndplayer]
    - [0x35E40, asm, libultra/audio/sndpallocate]
    - [0x35EE0, asm, libultra/audio/sndpsetpriority]
    - [0x35F10, asm, libultra/audio/sndpsetsound]
    - [0x35F30, asm, libultra/audio/sndpplay]
    - [0x35FA0, asm, libultra/audio/sndpsetpitch]
    - [0x36000, asm, libultra/audio/sndpsetvol]
    - [0x36060, asm, libultra/audio/sndpsetfxmix]
    - [0x360C0, asm, libultra/audio/sndpsetpan]
    - [0x36120, asm, libultra/audio/sndpgetsound]
    - [0x36130, asm, libultra/audio/sndpgetstate]
    - [0x36150, asm, libultra/audio/sndpdeallocate]
    - [0x361A0, asm, libultra/audio/sndpstop]
    - [0x361F0, asm, libultra/gu/random]
    - [0x36220, asm] # TODO: Identify
    - [0x36250, asm, libultra/io/aisetfreq]
    - [0x363B0, asm, libultra/audio/sl]
    - [0x36470, asm, libultra/audio/heapalloc]
    - [0x364D0, c, libultra/os/virtualtophysical]
    - [0x36550, asm, libultra/io/aisetnextbuf]
    - [0x36600, asm, libultra/io/aigetlen]
    - [0x36610, asm, libultra/audio/synthesizer]
    - [0x36CF0, asm, libultra/gu/mtxutil]
    - [0x36F60, asm, libultra/gu/mtxcatf]
    - [0x37170, asm, libultra/gu/cosf]
    - [0x372E0, hasm, libultra/gu/sqrtf]
    - [0x372F0, asm, libultra/libc/llcvt]
    - [0x37500, asm, libultra/libc/ll]
    - [0x377C0, asm, libultra/libc/sprintf]
    - [0x37840, asm, libultra/gu/perspective]
    - [0x37AD0, asm, libultra/gu/lookat]
    - [0x37E00, asm, libultra/gu/translate]
    - [0x37EA0, asm, libultra/gu/rotate]
    - [0x38090, asm, libultra/gu/scale]
    - [0x38130, asm, libultra/io/visetspecial]
    - [0x382F0, asm, libultra/io/controller]
    - [0x386B0, asm, libultra/io/contreaddata]
    - [0x38910, asm, libultra/io/contquery]
    - [0x389C0, asm, libultra/io/pfsinitpak]
    - [0x38C30, asm, libultra/io/pfsisplug]
    - [0x38FA0, asm, libultra/io/pfsfilestate]
    - [0x39290, asm, libultra/io/pfsfreeblocks]
    - [0x393E0, asm, libultra/io/pfsnumfiles]
    - [0x39530, asm, libultra/io/pfssearchfile]
    - [0x396F0, asm, libultra/io/pfsallocatefile]
    - [0x39EA0, asm, libultra/io/pfsreadwritefile]
    - [0x3A3A0, asm, libultra/io/pfsdeletefile]
    - [0x3A9B0, asm] # TODO: Identify
    - [0x3AA20, asm] # TODO: Identify
    - [0x3AB60, asm] # TODO: Identify
    - [0x3ACA0, asm, libultra/io/motor]
    - [0x3B440, asm, libultra/libc/string]
    - [0x3B4E0, hasm, libultra/os/setsr]
    - [0x3B4F0, hasm, libultra/os/getsr]
    - [0x3B500, hasm, libultra/os/setfpccsr]
    - [0x3B510, asm, libultra/io/sirawread]
    - [0x3B560, asm, libultra/io/sirawwrite]
    - [0x3B5B0, hasm, libultra/os/exceptasm]
    - [0x3BEC0, hasm, libultra/os/maptlbrdb]
    - [0x3BF20, asm, libultra/io/pirawread]
    - [0x3BF80, hasm, libultra/libc/bzero]
    - [0x3C020, hasm, libultra/os/interrupt]
    - [0x3C060, c, libultra/os/thread]
    - [0x3C0A0, asm, libultra/io/cartrominit]
    - [0x3C190, asm, libultra/io/leodiskinit]
    - [0x3C290, asm] # TODO: Identify
    - [0x3C350, c, libultra/os/getthreadpri]
    - [0x3C370, asm, libultra/io/pirawdma]
    - [0x3C450, asm, libultra/io/epirawdma]
    - [0x3C680, asm, libultra/io/devmgr]
    - [0x3CB10, c, libultra/os/jammesg]
    - [0x3CC60, asm, libultra/io/pigetcmdq]
    - [0x3CC90, asm, libultra/io/vi]
    - [0x3CDD0, asm] # TODO: Identify
    - [0x3D1E0, asm, libultra/io/viswapcontext]
    - [0x3D540, hasm, libultra/os/getcount]
    - [0x3D550, asm, libultra/io/spgetstat]
    - [0x3D560, hasm, libultra/libc/bcopy]
    - [0x3D870, asm, libultra/io/spsetstat]
    - [0x3D880, asm, libultra/io/spsetpc]
    - [0x3D8C0, asm, libultra/io/sprawdma]
    - [0x3D950, asm, libultra/io/sp]
    - [0x3D980, asm, libultra/io/dp]
    - [0x3D9B0, asm, libultra/audio/seqplayer]
    - [0x3F2F0, asm, libultra/audio/event]
    - [0x3F630, asm, libultra/audio/synaddplayer]
    - [0x3F680, asm, libultra/audio/synstopvoice]
    - [0x3F700, asm, libultra/audio/synfreevoice]
    - [0x3F7B0, asm, libultra/audio/synsetvol]
    - [0x3F850, asm, libultra/audio/synsetpitch]
    - [0x3F8E0, asm, libultra/audio/synallocvoice]
    - [0x3FB10, asm, libultra/audio/synsetpan]
    - [0x3FBA0, asm, libultra/audio/synsetfxmix]
    - [0x3FC40, asm, libultra/audio/synremoveplayer]
    - [0x3FCE0, asm, libultra/audio/synstartvoice]
    - [0x3FD70, asm, libultra/audio/syndelete]
    - [0x3FD80, hasm, libultra/os/probetlb]
    - [0x3FE40, asm, libultra/io/ai]
    - [0x3FE70, asm, libultra/audio/drvrnew]
    - [0x40610, asm, libultra/audio/synallocfx]
    - [0x406B0, asm, libultra/audio/mainbus]
    - [0x40800, asm, libultra/audio/load]
    - [0x41350, asm, libultra/audio/resample]
    - [0x41650, asm, libultra/audio/env]
    - [0x422B0, asm, libultra/audio/auxbus]
    - [0x423C0, asm, libultra/audio/save]
    - [0x42480, asm, libultra/libc/xprintf]
    - [0x43140, asm, libultra/gu/normalize]
    - [0x431D0, c, libultra/os/gettime]
    - [0x43260, c, libultra/os/settimer]
    - [0x43340, asm, libultra/io/sirawdma]    
    - [0x433F0, asm] # TODO: Identify
    - [0x435C0, asm, libultra/io/contpfs]
    - [0x44320, asm, libultra/io/contramread]
    - [0x446B0, asm, libultra/io/pfschecker]
    - [0x45110, asm, libultra/io/contramwrite]
    - [0x45490, asm] # TODO: Identify
    - [0x45C70, asm, libultra/io/crc]
    - [0x45DF0, asm, libultra/io/si]
    - [0x45E20, asm, libultra/io/leointerrupt]
    - [0x466A0, c, libultra/os/destroythread]
    - [0x467A0, c, libultra/os/resetglobalintmask]
    - [0x46800, asm] # TODO: Identify
    - [0x46850, asm] # TODO: Identify
    - [0x468A0, c, libultra/os/setglobalintmask]
    - [0x468F0, c, libultra/os/yieldthread]
    - [0x46940, hasm, libultra/os/setcompare]
    - [0x46950, asm, libultra/audio/seq]
    - [0x46F70, asm, libultra/audio/synsetpriority]
    - [0x46F80, asm, libultra/audio/copy]
    - [0x47000, asm, libultra/audio/filter]
    - [0x47020, asm, libultra/audio/reverb]
    - [0x47C70, asm, libultra/libc/xlitob]
    - [0x47F10, asm, libultra/libc/xldtob]
    - [0x489D0, asm, libultra/libc/ldiv]

    - [0x48B60, data] # data and rodata
    - [0x4C090, .data, libultra/os/initialize]
    - [0x4C0B0, data]
    - [0x4C170, .data, libultra/os/thread]
    - [0x4C190, data]
    - [0x4C640, rodata]
    - [0x4C670, rodata]
    - [0x4C6A0, rodata]
    - [0x4C6C0, rodata]
    - [0x4C7B0, rodata]
    - [0x4C7F0, rodata]
    - [0x4C820, rodata]
    - [0x4C860, rodata]
    - [0x4C9B0, rodata]
    - [0x4CA40, rodata]
    - [0x4CC10, rodata]
    - [0x4CED0, rodata]
    - [0x4CEF0, rodata]
    - [0x4CF40, rodata]
    - [0x4CFE0, rodata]
    - [0x4D000, rodata]
    - [0x4D010, rodata]
    - [0x4D060, rodata]
    - [0x4D080, rodata]
    - [0x4D2C0, rodata]
    - [0x4D2D0, rodata]
    - [0x4D330, rodata]
    - [0x4D390, rodata]
    - [0x4D490, rodata]
    - [0x4D4D0, rodata]
    - [0x4D530, rodata]
  - [0x4D7E0, bin, rom_bin_4D7E0] # RSP is here + rest of ROM
  - [0xC00000]
